<!DOCTYPE html>
<html lang="en" class="dark light">

    <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="base" content="https:&#x2F;&#x2F;firman-qs.github.io&#x2F;">

    

    
    
    
        <title>
            
                Hacking on $(\lambda) \to$ XMonad 
            
        </title>

        
            <meta property="og:title"
                  content="Hacking on $(\lambda) \to$ XMonad " />
        
    

    
        
            <meta property="og:description" content="Nothing special, just XMonad rice" />
        
    

    
        
            <meta name="description" content="Nothing special, just XMonad rice" />
        
    

    
    

    
    
        <link href=https://firman-qs.github.io/fonts.css rel="stylesheet" />
    

    
    

    
    

    
    <script defer src=https://firman-qs.github.io/js/codeblock.js></script>

    
    <script defer src=https://firman-qs.github.io/js/toc.js></script>

    
    
        <script src=https://firman-qs.github.io/js/note.js></script>
    

    
        
            <script>
            MathJax = {
              tex: {
                inlineMath: [['$', '$'], ['\\(', '\\)']]
              }
            };
            </script>
        
        <script type="text/javascript" id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js">
        </script>
    

    
      <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">

      <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.js" integrity="sha384-K3vbOmF2BtaVai+Qk37uypf7VrgBubhQreNQe9aGsz9lB63dIFiQVlJbr92dw2Lx" crossorigin="anonymous"></script>
      <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/mathtex-script-type.min.js" integrity="sha384-zWYbd0NBwgTsgIdFKVprSfTh1mbMPe5Hz1X3yY4Sd1h/K1cQoUe36OGwAGz/PcDy" crossorigin="anonymous"></script>
          
      <script defer src="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/contrib/auto-render.min.js" integrity="sha384-kmZOZB5ObwgQnS/DuDg6TScgOiWWBiVt0plIRkZCmE6rDZGrEOQeHM5PcHi+nyqe" crossorigin="anonymous"
              onload="renderMathInElement(document.body);"></script>
          
   

    
    


    
    
        <link rel="stylesheet"
              type="text/css"
              href="https://firman-qs.github.io/theme/light.css" />
        <link id="darkModeStyle"
              rel="stylesheet"
              type="text/css"
              href="https://firman-qs.github.io/theme/dark.css" />
    

    <!-- Set the correct theme in the script -->

    
        <script src=https://firman-qs.github.io/js/themetoggle.js></script>

        
            <script>setTheme(getSavedTheme());</script>
        
    


    <link rel="stylesheet"
          type="text/css"
          media="screen"
          href="https://firman-qs.github.io/main.css" />

    
        
            <link rel="stylesheet" href="https://firman-qs.github.io/style.css">
        
            <link rel="stylesheet" href="https://firman-qs.github.io/syntax-theme-dark.css">
        
    

    
        <script defer
                src="https://firman-qs.github.io/js/searchElasticlunr.min.js?h=b6d784e207d8794b3e43"></script></head>


    <body>
        <div class="left-content">
            
            
        </div>

        <div class="content">
            <nav>
    <div class="left-nav">
        
            <a href=https:&#x2F;&#x2F;firman-qs.github.io&#x2F;>fqsss</a>
        


        <div class="socials">
            
                <a rel="me" href="https:&#x2F;&#x2F;twitter.com&#x2F;firmanqs_" class="social">
                    <img alt="twitter" src="https://firman-qs.github.io/icons/social/twitter.svg">
                </a>
            
                <a rel="me" href="https:&#x2F;&#x2F;github.com&#x2F;firman-qs&#x2F;" class="social">
                    <img alt="github" src="https://firman-qs.github.io/icons/social/github.svg">
                </a>
            
                <a rel="me" href="&#x2F;atom.xml" class="social">
                    <img alt="rss" src="https://firman-qs.github.io/icons/social/rss.svg">
                </a>
            
        </div>
    </div>

    <div class="right-nav">
        
            <a href=https://firman-qs.github.io style="margin-right: 0.5em">&#x2F;home</a>
        
            <a href=https://firman-qs.github.io/posts style="margin-right: 0.5em">&#x2F;posts</a>
        
            <a href=https://firman-qs.github.io/projects style="margin-right: 0.5em">&#x2F;projects</a>
        
            <a href=https://firman-qs.github.io/tags style="margin-right: 0.5em">&#x2F;tags</a>
        

        
            <button id="search-button"
                    class="search-button"
                    title="$SHORTCUT to open search">
                <img src="https://firman-qs.github.io/icons/search.svg"
                    alt="Search"
                    class="search-icon">
            </button>

            <div id="searchModal"
                class="search-modal js"
                role="dialog"
                aria-labelledby="modalTitle">
                <div id="modal-content">
                    <h1 id="modalTitle" class="page-header">Search</h1>
                    <div id="searchBar">
                        <input id="searchInput"
                            role="combobox"
                            autocomplete="off"
                            spellcheck="false"
                            aria-expanded="false"
                            aria-controls="results-container"
                            placeholder="Search..." />
                        <button id="clear-search" class="clear-button" title="Clear search">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 -960 960 960">
                                <path d="m256-200-56-56 224-224-224-224 56-56 224 224 224-224 56 56-224 224 224 224-56 56-224-224-224 224Z" />
                            </svg>
                        </button>
                    </div>
                    <div id="results-container">
                        <div id="results-info">
                            <span id="zero_results" style="display: none;">No results</span>
                            <span id="one_result" style="display: none;">1 result</span>
                            <span id="many_results" style="display: none;">$NUMBER results</span>
                        </div>
                        <div id="results" role="listbox"></div>
                    </div>
                </div>
            </div>
        

        
            <a id="dark-mode-toggle"
            onclick="toggleTheme(); event.preventDefault();"
            href="#">
                <img src="https://firman-qs.github.io/icons/sun.svg"
                    id="sun-icon"
                    style="filter: invert(1)"
                    alt="Light" />
                <img src=https://firman-qs.github.io/icons/moon.svg id="moon-icon" alt="Dark" />
            </a>

            <!-- Initialize the theme toggle icons -->
            <script>updateItemToggleTheme()</script>
        
    </div>
</nav>


            
            
    
<div class="visible-element-observer-root" data-selector="main article p">
    <main>
        <article>
            <div class="title">
                
                
    
    <div class="page-header">
        Hacking on $(\lambda) \to$ XMonad 
    </div>
    


                <div class="meta">
                    
                        Posted on <time>2024-01-09</time>
                    


                    

                    

                    

                    
                    

                    
                    

                    
                    
                        <span class="tags-label"> :: </span>
                        <span class="tags">
                                <a href="https://firman-qs.github.io/tags/linuxrice/"
                                   class="post-tag">linuxrice</a>
                            
                                <a href="https://firman-qs.github.io/tags/documentation/"
                                   class="post-tag">documentation</a>
                            
                        </span>
                    

                    

                </div>
            </div>

            

            <section class="body">
                <h1 id="about"><a class="zola-anchor" href="#about" aria-label="Anchor link for: about">ABOUT</a></h1>
<p>Originally, this was my old archlinux <a rel="noopener" target="_blank" href="https://distro.tube/dtos/">DTOS</a>
configuration, but now i am on fedora (update: i am back <a rel="noopener" target="_blank" href="https://archlinux.org/">home</a>). I have tested on my fedora and it
works fine. For other distributions it should be the same, just complete
the necessary packages. I'll try to give a little guidance.</p>
<p><code>Note</code> Before you go and copy my config, read the section below for the
dependencies and short tutorial to get started. if I didn't miss
anything, this should be enough to get your linux to use this xmonad
configuration.</p>
<p>Credit: <a rel="noopener" target="_blank" href="https://xmonad.org/"><a rel="noopener" target="_blank" href="https://xmonad.org">https://xmonad.org</a></a>,
<a rel="noopener" target="_blank" href="https://gitlab.com/dtos"><a rel="noopener" target="_blank" href="https://gitlab.com/dtos">https://gitlab.com/dtos</a></a></p>
<h1 id="documentation"><a class="zola-anchor" href="#documentation" aria-label="Anchor link for: documentation">Documentation</a></h1>
<blockquote>
<p><a rel="noopener" target="_blank" href="https://xmonad.org/documentation.html">https://xmonad.org/documentation.html</a> What I will tell you next, all
come from the documentation. Documentation is the most important thing
when you learn something, whether it's a window manager, programming
language, etc. Here are some links to the xmonad documentation:</p>
<ul>
<li><a rel="noopener" target="_blank" href="https://xmonad.org/documentation.html"><a rel="noopener" target="_blank" href="https://xmonad.org/documentation.html">https://xmonad.org/documentation.html</a></a>
Documentation home page.</li>
<li><a rel="noopener" target="_blank" href="https://xmonad.org/INSTALL.html"><a rel="noopener" target="_blank" href="https://xmonad.org/INSTALL.html">https://xmonad.org/INSTALL.html</a></a>
On how to install xmonad.</li>
<li>Hackage Documentation, It contains further documentation, like what
libraries you can use, how to use them, more like how to use haskell
for xmonad.
<ul>
<li><a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/xmonad"><a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/xmonad">https://hackage.haskell.org/package/xmonad</a></a></li>
<li><a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/xmonad-contrib"><a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/xmonad-contrib">https://hackage.haskell.org/package/xmonad-contrib</a></a></li>
</ul>
</li>
</ul>
</blockquote>
<h1 id="installing-xmonad"><a class="zola-anchor" href="#installing-xmonad" aria-label="Anchor link for: installing-xmonad">Installing xmonad</a></h1>
<p>In general, the process is the same, the difference is which method you
use. Either use your distro's package manager, or build from source with
cabal or stack. This time I will use the package manager, because I find
it easier and use less space. Of course if you want to play with haskell
more deeply, using stack or cabal is great.</p>
<ol>
<li>
<p>Installing dependencies</p>
<p>The dependencies are the same, but the names may differ in different
package managers. I will give an example for Fedora, for other
distros, you can open the <a rel="noopener" target="_blank" href="https://xmonad.org/INSTALL.html">install xmonad documentation
link</a> that I provided before. Run
in terminal</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">sudo</span><span> dnf update </span><span style="color:#f29668;">&amp;&amp;
</span><span style="color:#ffb454;">sudo</span><span> dnf install git libX11-devel libXft-devel libXinerama-devel libXrandr-devel libXScrnSaver-devel
</span></code></pre>
</li>
<li>
<p>Make xmonad config directory</p>
<p>This is where you store all configurations. The new xmonad saves its
configuration in ~/.config/xmonad, while the older version is in
~/.xmonad. In my case, the fedora package manager provided xmonad
which seemed to be older, so I saved the configuration in
~/.xmonad. If you are using a distro like arch linux you will
probably use ~/.config/xmonad instead. Just test which one works
later. To make configuration directory:</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="font-style:italic;color:#5c6773;"># for latest version:
</span><span style="color:#ffb454;">mkdir </span><span style="font-style:italic;color:#39bae6;">~</span><span>/.config/xmonad
</span><span style="font-style:italic;color:#5c6773;"># or for older version:
</span><span style="color:#ffb454;">mkdir </span><span style="font-style:italic;color:#39bae6;">~</span><span>/.xmonad
</span></code></pre>
</li>
<li>
<p>Installing xmonad</p>
<p>Three things you need to install, xmonad itself, xmonad-contrib
(Community-maintained tiling algorithms and extension modules for
xmonad), and the bar (unless you don't want bar üòÅ). The bar that is
commonly used in conjunction with xmonad is xmobar and
<a rel="noopener" target="_blank" href="https://youtube.com/playlist?list=PL5--8gKSku144jIsizdhdxq_fKTmBBGBA">distrotube</a>
has a great tutorial on this. The other bar, which I'll be using in
this configuration is polybar, so we'll be installing that as well.
On fedora:</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">sudo</span><span> dnf install xmonad ghc-xmonad-contrib polybar
</span></code></pre>
<p>Remember, the package name may be different in each package manager
that your distro uses. Use package search to help you, for example,
on arch linux you can use <code>pacman -Ss pkg-name-you-are-looking-for</code>,
or on ubuntu: <code>~apt search pkg-name-you-are-looking-for</code>. if i
remember correctly, on arch linux the names are xmonad,
xmonad-contrib (without ghc-), and polybar. So on an arch based
distro you can do:</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">sudo</span><span> pacman</span><span style="color:#f29718;"> -S</span><span> xmonad xmonad-contrib polybar
</span></code></pre>
</li>
<li>
<p>Another thing to install</p>
<ol>
<li>
<p>Dmenu</p>
<p>Xmonad uses dmenu by default, you can copy my patched dmenu (see
<a rel="noopener" target="_blank" href="https://github.com/firman-qs/.dotfiles">my dmenu build</a>) and
install it or install the plain version
(<a rel="noopener" target="_blank" href="https://tools.suckless.org/dmenu">https://tools.suckless.org/dmenu</a>) and patch it yourself. Of
course you can use rofi or another launcher, just set it in
keybinding later.</p>
</li>
<li>
<p>Dbus</p>
<p>To easily display XMonad status in polybar we need DBus
monitoring and i use
<a rel="noopener" target="_blank" href="https://github.com/xintron/xmonad-log">xintron/xmonad-log</a> for
that. Xmonad-log allows us to send status over DBus using
XMonad's DynamicLog to any application that support executing
custom scripts such as polybar.</p>
<ol>
<li>First we need to install
<a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/dbus">dbus</a>. Again, i'm
using fedora here:</li>
</ol>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">sudo</span><span> dnf install ghc-dbus ghc-dbus-devel
</span></code></pre>
<ol>
<li>
<p>Next, we need to install golang to build xmonad-log:</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">sudo</span><span> dnf install golang
</span></code></pre>
</li>
<li>
<p>Then we clone the xmonad-log repository. On <a rel="noopener" target="_blank" href="https://github.com/xintron/xmonad-log">its
github</a> it says we
need to clone it to
<code>$GOPATH/src/github.com/xintron/xmonad-log</code>. <code>$GOPATH</code> is a
variable used by Go to reference the location where all
project folders are stored. However, Setup Go project using
<code>$GOPATH</code> is not recommended for the latest version of Go,
instead we use Go Modules. So just clone to our home
directory, or any other directory you want.</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="font-style:italic;color:#5c6773;"># clone to home directory
</span><span style="color:#ffb454;">git</span><span> clone https://github.com/xintron/xmonad-log.git </span><span style="font-style:italic;color:#39bae6;">~</span><span>/xmonad-log
</span><span style="font-style:italic;color:#5c6773;"># or clone to another directory
</span><span style="color:#ffb454;">git</span><span> clone https://github.com/xintron/xmonad-log.git </span><span style="font-style:italic;color:#39bae6;">~</span><span>/path/to/another/dir/xmonad-log
</span></code></pre>
</li>
<li>
<p>Now go to xmonad-log directory which we have clone, by
ordering:</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#f07178;">cd</span><span> xmonad-log
</span></code></pre>
</li>
<li>
<p>Once we're on xmonad-log directory, then we initilize new Go
project by:</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">go</span><span> mod init xmonad-log
</span></code></pre>
</li>
<li>
<p>Then add dependencies to current module and install them,
by:</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">go</span><span> get xmonad-log
</span></code></pre>
</li>
<li>
<p>Now we build it</p>
<pre data-lang="bash" style="background-color:#0f1419;color:#bfbab0;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb454;">go</span><span> build
</span></code></pre>
</li>
</ol>
<p>This will give you an xmonad-log binary in the directory. Move
this to an appropriate directory in your $PATH.</p>
</li>
</ol>
</li>
</ol>
<h1 id="imports"><a class="zola-anchor" href="#imports" aria-label="Anchor link for: imports">IMPORTS</a></h1>
<p>These are Haskell modules that we must import so that we can use their
functions later in the config. We use <code>import</code> stetement for to import
modules. Qualified import makes the imported module only available in
qualified form, eg. it force an obligatory namespace qualifier to
imported identifiers. A qualified import allows us to use functions with
the same name from several modules. Because there is a namespace,
haskell doesn't get agitated.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="font-style:italic;color:#5c6773;">-- Base
</span><span style="color:#ff7733;">import </span><span>XMonad
</span><span style="color:#ff7733;">import </span><span>System.Directory
</span><span style="color:#ff7733;">import </span><span>System.IO (</span><span style="color:#ffb454;">hClose</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">hPutStr</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">hPutStrLn</span><span>)
</span><span style="color:#ff7733;">import </span><span>System.Exit (</span><span style="color:#ffb454;">exitSuccess</span><span>)
</span><span style="color:#ff7733;">import qualified </span><span>XMonad.StackSet </span><span style="color:#ff7733;">as </span><span>W
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Actions
</span><span style="color:#ff7733;">import </span><span>XMonad.Actions.CopyWindow (</span><span style="color:#ffb454;">kill1</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Actions.CycleWS (</span><span style="color:#ff7733;">Direction1D</span><span style="color:#ffb454;">(..)</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">moveTo</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">shiftTo</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">toggleWS</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">WSType</span><span style="color:#ffb454;">(..)</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">nextScreen</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">prevScreen</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Actions.MouseResize
</span><span style="color:#ff7733;">import </span><span>XMonad.Actions.Promote
</span><span style="color:#ff7733;">import </span><span>XMonad.Actions.RotSlaves (</span><span style="color:#ffb454;">rotSlavesDown</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">rotAllDown</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Actions.WindowGo (</span><span style="color:#ffb454;">runOrRaise</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Actions.WithAll (</span><span style="color:#ffb454;">sinkAll</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">killAll</span><span>)
</span><span style="color:#ff7733;">import qualified </span><span>XMonad.Actions.Search </span><span style="color:#ff7733;">as </span><span>S
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Data
</span><span style="color:#ff7733;">import </span><span>Data.Char (</span><span style="color:#ffb454;">isSpace</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">toUpper</span><span>)
</span><span style="color:#ff7733;">import </span><span>Data.Maybe (</span><span style="color:#ffb454;">fromJust</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">isJust</span><span>)
</span><span style="color:#ff7733;">import </span><span>Data.Monoid
</span><span style="color:#ff7733;">import </span><span>Data.Tree
</span><span style="color:#ff7733;">import qualified </span><span>Data.Map </span><span style="color:#ff7733;">as </span><span>M
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Dbus
</span><span style="color:#ff7733;">import qualified </span><span>DBus </span><span style="color:#ff7733;">as </span><span>D
</span><span style="color:#ff7733;">import qualified </span><span>DBus.Client </span><span style="color:#ff7733;">as </span><span>D
</span><span style="color:#ff7733;">import qualified </span><span>Codec.Binary.UTF8.String </span><span style="color:#ff7733;">as </span><span>UTF8
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Hooks
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.DynamicLog
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.EwmhDesktops
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.ManageDocks (</span><span style="color:#ffb454;">avoidStruts</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">docks</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">manageDocks</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">ToggleStruts</span><span style="color:#ffb454;">(..)</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.ManageHelpers (</span><span style="color:#ffb454;">isFullscreen</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">doFullFloat</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">doCenterFloat</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.ServerMode
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.SetWMName
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.StatusBar
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.StatusBar.PP
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.WindowSwallowing
</span><span style="color:#ff7733;">import </span><span>XMonad.Hooks.WorkspaceHistory
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Layouts
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.Accordion
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.GridVariants (</span><span style="color:#ff7733;">Grid</span><span>(Grid))
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.SimplestFloat
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.Spiral
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.ResizableTile
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.Tabbed
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.ThreeColumns
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Layouts modifiers
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.LayoutModifier
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.LimitWindows (</span><span style="color:#ffb454;">limitWindows</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">increaseLimit</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">decreaseLimit</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.MultiToggle (</span><span style="color:#ffb454;">mkToggle</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">single</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">EOT</span><span>(EOT)</span><span style="color:#bfbab0cc;">, </span><span>(??))
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.MultiToggle.Instances (</span><span style="color:#ff7733;">StdTransformers</span><span>(NBFULL, MIRROR, NOBORDERS))
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.NoBorders
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.Renamed
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.ShowWName
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.Simplest
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.Spacing
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.SubLayouts
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.WindowArranger (</span><span style="color:#ffb454;">windowArrange</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">WindowArrangerMsg</span><span style="color:#ffb454;">(..)</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Layout.WindowNavigation
</span><span style="color:#ff7733;">import qualified </span><span>XMonad.Layout.ToggleLayouts </span><span style="color:#ff7733;">as </span><span>T (</span><span style="color:#ffb454;">toggleLayouts</span><span style="color:#bfbab0cc;">, </span><span style="color:#ff7733;">ToggleLayout</span><span>(Toggle))
</span><span style="color:#ff7733;">import qualified </span><span>XMonad.Layout.MultiToggle </span><span style="color:#ff7733;">as </span><span>MT (</span><span style="color:#ff7733;">Toggle</span><span style="color:#ffb454;">(..)</span><span>)
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Utilities
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.Dmenu
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.EZConfig (</span><span style="color:#ffb454;">additionalKeysP</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">mkNamedKeymap</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.Hacks (</span><span style="color:#ffb454;">windowedFullscreenFixEventHook</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">javaHack</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">trayerAboveXmobarEventHook</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">trayAbovePanelEventHook</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">trayerPaddingXmobarEventHook</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">trayPaddingXmobarEventHook</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">trayPaddingEventHook</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.NamedActions
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.NamedScratchpad
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.NamedWindows (</span><span style="color:#ffb454;">getName</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.Run (</span><span style="color:#ffb454;">runProcessWithInput</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">safeSpawn</span><span style="color:#bfbab0cc;">, </span><span style="color:#ffb454;">spawnPipe</span><span>)
</span><span style="color:#ff7733;">import </span><span>XMonad.Util.SpawnOnce
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Colorscheme Module, made using pywal template, and link it to ~/.xmonaad/lib/Colors directory using ln -s
</span><span style="color:#ff7733;">import </span><span>Colors.XmonadPywal
</span></code></pre>
<h1 id="variables"><a class="zola-anchor" href="#variables" aria-label="Anchor link for: variables">VARIABLES</a></h1>
<p>It's nice to assign values to stuff that you will use more than once in
the config. Setting values for things like font, terminal and editor
means you only have to change the value here to make changes globally.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="font-style:italic;color:#5c6773;">-- Variables
</span><span style="color:#ffb454;">myFont </span><span style="color:#ff7733;">:: String
</span><span>myFont </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;xft:JetBrainsMono Nerd Font:regular:size=9:antialias=true:hinting=true&quot;
</span><span>
</span><span style="color:#ffb454;">myModMask </span><span style="color:#ff7733;">:: KeyMask
</span><span>myModMask </span><span style="color:#f29668;">=</span><span> mod4Mask  </span><span style="font-style:italic;color:#5c6773;">-- Sets modkey to super/windows key
</span><span>
</span><span style="color:#ffb454;">myTerminal </span><span style="color:#ff7733;">:: String
</span><span>myTerminal </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;alacritty&quot;  </span><span style="font-style:italic;color:#5c6773;">-- Sets default terminal
</span><span>
</span><span style="color:#ffb454;">myBrowser </span><span style="color:#ff7733;">:: String
</span><span>myBrowser </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;firefox &quot;  </span><span style="font-style:italic;color:#5c6773;">-- Sets qutebrowser as browser
</span><span>
</span><span style="color:#ffb454;">myEmacs </span><span style="color:#ff7733;">:: String
</span><span>myEmacs </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;emacsclient -c -a &#39;emacs&#39; &quot;  </span><span style="font-style:italic;color:#5c6773;">-- Makes emacs keybindings easier to type
</span><span>
</span><span style="color:#ffb454;">myEditor </span><span style="color:#ff7733;">:: String
</span><span>myEditor </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;code&quot;  </span><span style="font-style:italic;color:#5c6773;">-- Sets emacs as editor
</span><span>
</span><span style="color:#ffb454;">myFileManager </span><span style="color:#ff7733;">:: String
</span><span>myFileManager </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;nemo&quot;  </span><span style="font-style:italic;color:#5c6773;">-- Sets emacs as editor
</span><span>
</span><span style="color:#ffb454;">myBorderWidth </span><span style="color:#ff7733;">:: Dimension
</span><span>myBorderWidth </span><span style="color:#f29668;">= </span><span style="color:#f29718;">2  </span><span style="font-style:italic;color:#5c6773;">-- Sets border width for windows
</span><span>
</span><span style="color:#ffb454;">myNormColor </span><span style="color:#ff7733;">:: String  </span><span style="font-style:italic;color:#5c6773;">-- Border color of normal windows
</span><span>myNormColor   </span><span style="color:#f29668;">=</span><span> background  </span><span style="font-style:italic;color:#5c6773;">-- This variable is imported from Colors.THEME
</span><span>
</span><span style="color:#ffb454;">myFocusColor </span><span style="color:#ff7733;">:: String  </span><span style="font-style:italic;color:#5c6773;">-- Border color of focused windows
</span><span>myFocusColor  </span><span style="color:#f29668;">=</span><span> color4  </span><span style="font-style:italic;color:#5c6773;">-- This variable is imported from Colors.THEME
</span><span>
</span><span style="color:#ffb454;">mySoundPlayer </span><span style="color:#ff7733;">:: String
</span><span>mySoundPlayer </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;ffplay -nodisp -autoexit &quot;  </span><span style="font-style:italic;color:#5c6773;">-- The program that will play system sounds
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- just like his name, to count window
</span><span style="color:#ffb454;">windowCount </span><span style="color:#ff7733;">:: X</span><span> (</span><span style="color:#ff7733;">Maybe String</span><span>)
</span><span>windowCount </span><span style="color:#f29668;">=</span><span> gets </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">Just </span><span style="color:#f29668;">.</span><span> show </span><span style="color:#f29668;">.</span><span> length </span><span style="color:#f29668;">. </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>integrate&#39; </span><span style="color:#f29668;">. </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>stack </span><span style="color:#f29668;">. </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>workspace </span><span style="color:#f29668;">. </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>current </span><span style="color:#f29668;">.</span><span> windowset
</span></code></pre>
<h1 id="autostarts"><a class="zola-anchor" href="#autostarts" aria-label="Anchor link for: autostarts">AUTOSTARTS</a></h1>
<p>This is a program that automatically runs on startup or restarting
xmonad. We need to store it in <code>startupHook</code> on <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/./#main">main</a> method
(this similar to <code>main</code> in other languages, such as <code>c</code>). For now we
store it in <code>myStartupHook</code> first then put it later on <code>startupHook</code>.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="color:#ffb454;">myStartupHook </span><span style="color:#ff7733;">:: X </span><span style="font-style:italic;color:#f29668;">()
</span><span>myStartupHook </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">do
</span><span>    spawnOnce (mySoundPlayer </span><span style="color:#f29668;">++</span><span> startupSound)
</span><span>    spawnOnce </span><span style="color:#c2d94c;">&quot;picom&quot;
</span><span>    spawnOnce </span><span style="color:#c2d94c;">&quot;nm-applet&quot;
</span><span>    spawnOnce </span><span style="color:#c2d94c;">&quot;pasystray&quot;
</span><span>    spawnOnce </span><span style="color:#c2d94c;">&quot;xset dpms 0 0 10800 &amp; xss-lock -- slock &amp;&quot;
</span><span>    spawn </span><span style="color:#c2d94c;">&quot;/usr/bin/emacs --daemon&quot;  </span><span style="font-style:italic;color:#5c6773;">-- emacs daemon for the emacsclient
</span><span>    spawn </span><span style="color:#c2d94c;">&quot;polybar mainbar-xmonad&quot;
</span><span>    spawnOnce </span><span style="color:#c2d94c;">&quot;wal -R &amp;&quot;
</span><span>    setWMName </span><span style="color:#c2d94c;">&quot;LG3D&quot;
</span></code></pre>
<h1 id="layouts"><a class="zola-anchor" href="#layouts" aria-label="Anchor link for: layouts">LAYOUTS</a></h1>
<p>Defining the layouts that I want to have available. This require us to
import modules <code>XMonad.Layout</code>.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="font-style:italic;color:#5c6773;">{- | Makes setting the spacingRaw simpler to write. The spacingRaw module adds
</span><span style="font-style:italic;color:#5c6773;">a configurable amount of space around windows.
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span style="color:#ffb454;">mySpacing </span><span style="color:#ff7733;">:: Integer -&gt; </span><span>l a </span><span style="color:#ff7733;">-&gt; XMonad</span><span>.</span><span style="color:#ff7733;">Layout</span><span>.</span><span style="color:#ff7733;">LayoutModifier</span><span>.</span><span style="color:#ff7733;">ModifiedLayout Spacing </span><span>l a
</span><span>mySpacing i </span><span style="color:#f29668;">=</span><span> spacingRaw </span><span style="color:#f29718;">False</span><span> (</span><span style="color:#f29718;">Border</span><span> i i i i) </span><span style="color:#f29718;">True</span><span> (</span><span style="color:#f29718;">Border</span><span> i i i i) </span><span style="color:#f29718;">True
</span><span>
</span><span style="font-style:italic;color:#5c6773;">{- | Below is a variation of the above except no borders are applied if fewer
</span><span style="font-style:italic;color:#5c6773;">than two windows. So a single window has no gaps.
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span style="color:#ffb454;">mySpacing&#39; </span><span style="color:#ff7733;">:: Integer -&gt; </span><span>l a </span><span style="color:#ff7733;">-&gt; XMonad</span><span>.</span><span style="color:#ff7733;">Layout</span><span>.</span><span style="color:#ff7733;">LayoutModifier</span><span>.</span><span style="color:#ff7733;">ModifiedLayout Spacing </span><span>l a
</span><span>mySpacing&#39; i </span><span style="color:#f29668;">=</span><span> spacingRaw </span><span style="color:#f29718;">True</span><span> (</span><span style="color:#f29718;">Border</span><span> i i i i) </span><span style="color:#f29718;">True</span><span> (</span><span style="color:#f29718;">Border</span><span> i i i i) </span><span style="color:#f29718;">True
</span><span>
</span><span style="font-style:italic;color:#5c6773;">{- Defining a bunch of layouts, many that I don&#39;t use. limitWindows n sets
</span><span style="font-style:italic;color:#5c6773;">maximum number of windows displayed for layout. mySpacing n sets the gap size
</span><span style="font-style:italic;color:#5c6773;">around the windows.
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span>tall </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;tall&quot;</span><span>]
</span><span>    </span><span style="color:#f29668;">$</span><span> limitWindows </span><span style="color:#f29718;">5
</span><span>    </span><span style="color:#f29668;">$</span><span> addTabs shrinkText myTabTheme
</span><span>    </span><span style="color:#f29668;">$</span><span> subLayout </span><span style="color:#f29718;">[]</span><span> (smartBorders </span><span style="color:#f29718;">Simplest</span><span>)
</span><span>    </span><span style="color:#f29668;">$</span><span> mySpacing </span><span style="color:#f29718;">4
</span><span>    </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">ResizableTall 1</span><span> (</span><span style="color:#f29718;">3</span><span style="color:#f29668;">/</span><span style="color:#f29718;">100</span><span>) (</span><span style="color:#f29718;">1</span><span style="color:#f29668;">/</span><span style="color:#f29718;">2</span><span>) </span><span style="color:#f29718;">[]
</span><span>monocle </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;monocle&quot;</span><span>]
</span><span>    </span><span style="color:#f29668;">$</span><span> addTabs shrinkText myTabTheme
</span><span>    </span><span style="color:#f29668;">$</span><span> subLayout </span><span style="color:#f29718;">[]</span><span> (smartBorders </span><span style="color:#f29718;">Simplest</span><span>)
</span><span>    </span><span style="color:#f29718;">Full
</span><span>floats </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;floats&quot;</span><span>]
</span><span>    simplestFloat
</span><span>grid </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;grid&quot;</span><span>]
</span><span>    </span><span style="color:#f29668;">$</span><span> limitWindows </span><span style="color:#f29718;">9
</span><span>    </span><span style="color:#f29668;">$</span><span> addTabs shrinkText myTabTheme
</span><span>    </span><span style="color:#f29668;">$</span><span> subLayout </span><span style="color:#f29718;">[]</span><span> (smartBorders </span><span style="color:#f29718;">Simplest</span><span>)
</span><span>    </span><span style="color:#f29668;">$</span><span> mySpacing </span><span style="color:#f29718;">4
</span><span>    </span><span style="color:#f29668;">$</span><span> mkToggle (single </span><span style="color:#f29718;">MIRROR</span><span>)
</span><span>    </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">Grid</span><span> (</span><span style="color:#f29718;">16</span><span style="color:#f29668;">/</span><span style="color:#f29718;">10</span><span>)
</span><span>spirals </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;spirals&quot;</span><span>]
</span><span>    </span><span style="color:#f29668;">$</span><span> limitWindows </span><span style="color:#f29718;">9
</span><span>    </span><span style="color:#f29668;">$</span><span> addTabs shrinkText myTabTheme
</span><span>    </span><span style="color:#f29668;">$</span><span> subLayout </span><span style="color:#f29718;">[]</span><span> (smartBorders </span><span style="color:#f29718;">Simplest</span><span>)
</span><span>    </span><span style="color:#f29668;">$</span><span> mySpacing&#39; </span><span style="color:#f29718;">4
</span><span>    </span><span style="color:#f29668;">$</span><span> spiral (</span><span style="color:#f29718;">6</span><span style="color:#f29668;">/</span><span style="color:#f29718;">7</span><span>)
</span><span>threeCol </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;threeCol&quot;</span><span>]
</span><span>    </span><span style="color:#f29668;">$</span><span> limitWindows </span><span style="color:#f29718;">7
</span><span>    </span><span style="color:#f29668;">$</span><span> addTabs shrinkText myTabTheme
</span><span>    </span><span style="color:#f29668;">$</span><span> subLayout </span><span style="color:#f29718;">[]</span><span> (smartBorders </span><span style="color:#f29718;">Simplest</span><span>)
</span><span>    </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">ThreeCol 1</span><span> (</span><span style="color:#f29718;">3</span><span style="color:#f29668;">/</span><span style="color:#f29718;">100</span><span>) (</span><span style="color:#f29718;">1</span><span style="color:#f29668;">/</span><span style="color:#f29718;">2</span><span>)
</span><span style="font-style:italic;color:#5c6773;">{- | Mirror takes a layout and rotates it by 90 degrees.
</span><span style="font-style:italic;color:#5c6773;">So we are applying Mirror to the ThreeCol layout.
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span>threeRow </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;threeRow&quot;</span><span>]
</span><span>    </span><span style="color:#f29668;">$</span><span> limitWindows </span><span style="color:#f29718;">7
</span><span>    </span><span style="color:#f29668;">$</span><span> addTabs shrinkText myTabTheme
</span><span>    </span><span style="color:#f29668;">$</span><span> subLayout </span><span style="color:#f29718;">[]</span><span> (smartBorders </span><span style="color:#f29718;">Simplest</span><span>)
</span><span>    </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">Mirror
</span><span>    </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">ThreeCol 1</span><span> (</span><span style="color:#f29718;">3</span><span style="color:#f29668;">/</span><span style="color:#f29718;">100</span><span>) (</span><span style="color:#f29718;">1</span><span style="color:#f29668;">/</span><span style="color:#f29718;">2</span><span>)
</span><span style="font-style:italic;color:#5c6773;">{- | I cannot add spacing to this layout because it will
</span><span style="font-style:italic;color:#5c6773;">add spacing between window and tabs which looks bad.
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span>tabs </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;tabs&quot;</span><span>] </span><span style="color:#f29668;">$</span><span> tabbed shrinkText myTabTheme
</span><span>tallAccordion </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;tallAccordion&quot;</span><span>] </span><span style="color:#f29718;">Accordion
</span><span>wideAccordion </span><span style="color:#f29668;">=</span><span> renamed [</span><span style="color:#f29718;">Replace </span><span style="color:#c2d94c;">&quot;wideAccordion&quot;</span><span>] </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">Mirror Accordion
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- setting colors for tabs layout and tabs sublayout.
</span><span>myTabTheme </span><span style="color:#f29668;">=</span><span> def
</span><span>    { fontName             </span><span style="color:#f29668;">=</span><span> myFont
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> activeColor          </span><span style="color:#f29668;">=</span><span> color15
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> inactiveColor        </span><span style="color:#f29668;">=</span><span> color8
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> activeBorderColor    </span><span style="color:#f29668;">=</span><span> color15
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> inactiveBorderColor  </span><span style="color:#f29668;">=</span><span> background
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> activeTextColor      </span><span style="color:#f29668;">=</span><span> background
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> inactiveTextColor    </span><span style="color:#f29668;">=</span><span> color0
</span><span>    }
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- The layout hook
</span><span>myLayoutHook </span><span style="color:#f29668;">=</span><span> avoidStruts
</span><span>    </span><span style="color:#f29668;">$</span><span> mouseResize
</span><span>    </span><span style="color:#f29668;">$</span><span> windowArrange
</span><span>    </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">T</span><span style="color:#f29668;">.</span><span>toggleLayouts floats
</span><span>    </span><span style="color:#f29668;">$</span><span> mkToggle (</span><span style="color:#f29718;">NBFULL </span><span style="color:#f29668;">?? </span><span style="color:#f29718;">NOBORDERS </span><span style="color:#f29668;">?? </span><span style="color:#f29718;">EOT</span><span>) myDefaultLayout
</span><span>  </span><span style="color:#ff7733;">where
</span><span>    myDefaultLayout </span><span style="color:#f29668;">=</span><span> smartBorders
</span><span>        </span><span style="color:#f29668;">$</span><span> withBorder myBorderWidth
</span><span>        </span><span style="color:#f29668;">$</span><span> configurableNavigation noNavigateBorders tall
</span><span>            </span><span style="color:#f29668;">|||</span><span> noBorders monocle
</span><span>            </span><span style="color:#f29668;">|||</span><span> floats
</span><span>            </span><span style="color:#f29668;">|||</span><span> noBorders tabs
</span><span>            </span><span style="color:#f29668;">|||</span><span> grid
</span><span>            </span><span style="color:#f29668;">|||</span><span> spirals
</span><span>            </span><span style="color:#f29668;">|||</span><span> threeCol
</span><span>            </span><span style="color:#f29668;">|||</span><span> threeRow
</span><span>            </span><span style="color:#f29668;">|||</span><span> tallAccordion
</span><span>            </span><span style="color:#f29668;">|||</span><span> wideAccordion
</span></code></pre>
<h1 id="workspaces"><a class="zola-anchor" href="#workspaces" aria-label="Anchor link for: workspaces">WORKSPACES</a></h1>
<p>Thisi worspace configuration contains workspace name, how make custom
xmonad polybar-module clickable, and theme for workspace name on change
popup.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="font-style:italic;color:#5c6773;">-- Workspace name
</span><span style="color:#ffb454;">myWorkspaces </span><span style="color:#ff7733;">::</span><span> [</span><span style="color:#ff7733;">String</span><span>]
</span><span>myWorkspaces </span><span style="color:#f29668;">=</span><span> [</span><span style="color:#c2d94c;">&quot;1&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;2&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;3&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;4&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;5&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;6&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;7&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;8&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;9&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;10&quot;</span><span>]
</span><span style="font-style:italic;color:#5c6773;">{- | another worspace name that you can use:
</span><span style="font-style:italic;color:#5c6773;">    myWorkspaces =
</span><span style="font-style:italic;color:#5c6773;">    [ &quot;dev&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;www&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;sys&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;doc&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;vbx&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;cht&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;mus&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;vid&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;trm&quot;
</span><span style="font-style:italic;color:#5c6773;">    , &quot;gfx&quot;
</span><span style="font-style:italic;color:#5c6773;">    ]
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Make custom xmonad polybar module clickable
</span><span>myWorkspaceIndices </span><span style="color:#f29668;">= </span><span style="color:#f29718;">M</span><span style="color:#f29668;">.</span><span>fromList </span><span style="color:#f29668;">$</span><span> zipWith </span><span style="color:#ffb454;">(,)</span><span> myWorkspaces [</span><span style="color:#f29718;">1</span><span style="color:#f29668;">..</span><span>]
</span><span style="font-style:italic;color:#5c6773;">{- | Basically we use xdotool (don&#39;t forget to install it) to press our
</span><span style="font-style:italic;color:#5c6773;">keybinding, when we do click to polybar xmonad workspace.
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span>clickable ws </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;%{A:xdotool key super+&quot; </span><span style="color:#f29668;">++</span><span> show i </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot; &amp;:}&quot; </span><span style="color:#f29668;">++</span><span> ws </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot;%{A}&quot;
</span><span>  </span><span style="color:#ff7733;">where</span><span> i </span><span style="color:#f29668;">=</span><span> fromJust </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">M</span><span style="color:#f29668;">.</span><span>lookup ws myWorkspaceIndices
</span><span>
</span><span style="font-style:italic;color:#5c6773;">{- | Theme for showWName which prints current workspace when you change
</span><span style="font-style:italic;color:#5c6773;">workspaces. In order to make it work, on main method you need to have:
</span><span style="font-style:italic;color:#5c6773;">    , layoutHook = showWName&#39; myShowWNameTheme $ myLayoutHook
</span><span style="font-style:italic;color:#5c6773;">instead of just:
</span><span style="font-style:italic;color:#5c6773;">    , layoutHook = myLayoutHook
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span style="color:#ffb454;">myShowWNameTheme </span><span style="color:#ff7733;">:: SWNConfig
</span><span>myShowWNameTheme </span><span style="color:#f29668;">=</span><span> def
</span><span>    { swn_font      </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;xft:JetBrainsMono Nerd Font:bold:size=50&quot;
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> swn_fade      </span><span style="color:#f29668;">= </span><span style="color:#f29718;">1</span><span style="color:#bfbab0cc;">.</span><span style="color:#f29718;">0
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> swn_bgcolor   </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;#1c1f24&quot;
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> swn_color     </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;#ffffff&quot;
</span><span>    }
</span></code></pre>
<h1 id="managehook"><a class="zola-anchor" href="#managehook" aria-label="Anchor link for: managehook">MANAGEHOOK</a></h1>
<p>Sets some rules for certain programs. Examples include forcing certain
programs to always float, or to always appear on a certain workspace.
Forcing programs to a certain workspace with a doShift requires xdotool
if you are using clickable workspaces. You need the className or title
of the program. Use xprop to get this info.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="font-style:italic;color:#5c6773;">{- | &#39;doFloat&#39; forces a window to float. Useful for dialog boxes and such.
</span><span style="font-style:italic;color:#5c6773;">using &#39;doShift ( myWorkspaces !! 7)&#39; sends program to workspace 8! I&#39;m doing it
</span><span style="font-style:italic;color:#5c6773;">this way because otherwise I would have to write out the full name of my
</span><span style="font-style:italic;color:#5c6773;">workspaces and the names would be very long if using clickable workspaces.
</span><span style="font-style:italic;color:#5c6773;">-}
</span><span style="color:#ffb454;">myManageHook </span><span style="color:#ff7733;">:: XMonad</span><span>.</span><span style="color:#ff7733;">Query</span><span> (</span><span style="color:#ff7733;">Data</span><span>.</span><span style="color:#ff7733;">Monoid</span><span>.</span><span style="color:#ff7733;">Endo WindowSet</span><span>)
</span><span>myManageHook </span><span style="color:#f29668;">=</span><span> composeAll
</span><span>    [ className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;confirm&quot;        </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;file_progress&quot;  </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;dialog&quot;         </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;download&quot;       </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;error&quot;          </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Gimp&quot;           </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;notification&quot;   </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;pinentry-gtk-2&quot; </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;splash&quot;         </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;toolbar&quot;        </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Yad&quot;            </span><span style="font-style:italic;color:#5c6773;">--&gt; doCenterFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> title </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Oracle VM VirtualBox Manager&quot;   </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> title </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Order Chain - Market Snapshots&quot; </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> title </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Mozilla Firefox&quot;    </span><span style="font-style:italic;color:#5c6773;">--&gt; doShift ( myWorkspaces !! 1 )
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Brave-browser&quot;  </span><span style="font-style:italic;color:#5c6773;">--&gt; doShift ( myWorkspaces !! 1 )
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;mpv&quot;            </span><span style="font-style:italic;color:#5c6773;">--&gt; doShift ( myWorkspaces !! 7 )
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Gimp&quot;           </span><span style="font-style:italic;color:#5c6773;">--&gt; doShift ( myWorkspaces !! 8 )
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;VirtualBox Manager&quot; </span><span style="font-style:italic;color:#5c6773;">--&gt; doShift  ( myWorkspaces !! 4 )
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;firefox&quot; </span><span style="color:#f29668;">&lt;</span><span>&amp;&amp;</span><span style="color:#f29668;">&gt;</span><span> resource </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Dialog&quot;</span><span>) </span><span style="font-style:italic;color:#5c6773;">--&gt; doFloat
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> isFullscreen </span><span style="font-style:italic;color:#5c6773;">--&gt;  doFullFloat
</span><span>    ] </span><span style="color:#f29668;">&lt;+&gt;</span><span> namedScratchpadManageHook myScratchPads
</span></code></pre>
<h1 id="system-sounds"><a class="zola-anchor" href="#system-sounds" aria-label="Anchor link for: system-sounds">SYSTEM SOUNDS</a></h1>
<p>Available sounds that are part of the default
<a rel="noopener" target="_blank" href="https://gitlab.com/dtos/dtos-sounds">dtos-sounds</a> package include:</p>
<ul>
<li>menu-01.mp3</li>
<li>menu-02.mp3</li>
<li>menu-03.mp3</li>
<li>shutdown-01.mp3</li>
<li>shutdown-02.mp3</li>
<li>shutdown-03.mp3</li>
<li>startup-01.mp3</li>
<li>startup-02.mp3</li>
<li>startup-03.mp3</li>
</ul>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span>soundDir </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;/home/fqs/.config/dtos-sounds/&quot;
</span><span>
</span><span>startupSound  </span><span style="color:#f29668;">=</span><span> soundDir </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot;startup-01.mp3&quot;
</span><span>shutdownSound </span><span style="color:#f29668;">=</span><span> soundDir </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot;shutdown-01.mp3&quot;
</span></code></pre>
<h1 id="named-actions"><a class="zola-anchor" href="#named-actions" aria-label="Anchor link for: named-actions">NAMED ACTIONS</a></h1>
<p><code>NamedActions</code> is a wrapper for keybinding configuration that can list
the available keybindings. The following custom functions are used to
add <code>NamedActions</code> to our keybindings in the format that I desired.
<code>subTitle'</code> allows me to format the subtitle (<code>subKeys</code>) so that I can
prepend and/or append text to them. <code>showKeybindings</code> is a function that
pipes the output of our <code>NamedActions</code> into a GUI display program, such
as 'yad' or 'zenity'.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="color:#ffb454;">subtitle&#39; </span><span style="color:#ff7733;">:: String -&gt;</span><span> ((</span><span style="color:#ff7733;">KeyMask</span><span>, </span><span style="color:#ff7733;">KeySym</span><span>), </span><span style="color:#ff7733;">NamedAction</span><span>)
</span><span>subtitle&#39; x </span><span style="color:#f29668;">=
</span><span>    ( (</span><span style="color:#f29718;">0</span><span style="color:#bfbab0cc;">,</span><span style="color:#f29718;">0</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">NamedAction </span><span style="color:#f29668;">$</span><span> map toUpper </span><span style="color:#f29668;">$</span><span> sep </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot;</span><span style="color:#95e6cb;">\n</span><span style="color:#c2d94c;">-- &quot; </span><span style="color:#f29668;">++</span><span> x </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot; --</span><span style="color:#95e6cb;">\n</span><span style="color:#c2d94c;">&quot; </span><span style="color:#f29668;">++</span><span> sep
</span><span>    ) </span><span style="color:#ff7733;">where
</span><span>        sep </span><span style="color:#f29668;">=</span><span> replicate (</span><span style="color:#f29718;">6 </span><span style="color:#f29668;">+</span><span> length x) </span><span style="color:#c2d94c;">&#39;-&#39;
</span><span>
</span><span style="color:#ffb454;">showKeybindings </span><span style="color:#ff7733;">::</span><span> [((</span><span style="color:#ff7733;">KeyMask</span><span>, </span><span style="color:#ff7733;">KeySym</span><span>), </span><span style="color:#ff7733;">NamedAction</span><span>)] </span><span style="color:#ff7733;">-&gt; NamedAction
</span><span>showKeybindings x </span><span style="color:#f29668;">=</span><span> addName </span><span style="color:#c2d94c;">&quot;Show Keybindings&quot; </span><span style="color:#f29668;">$</span><span> io </span><span style="color:#f29668;">$ </span><span style="color:#ff7733;">do
</span><span>    h </span><span style="color:#f29668;">&lt;-</span><span> spawnPipe </span><span style="color:#c2d94c;">&quot;yad --text-info --fontname=</span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;">JetBrainsMono Nerd Font 11</span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;"> --fore=#46d9ff back=#282c36 --center --geometry=1200x700 --title </span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;">XMonad keybindings</span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;">&quot;
</span><span>    </span><span style="font-style:italic;color:#5c6773;">--hPutStr h (unlines $ showKm x) -- showKM adds &quot;&gt;&gt;&quot; before subtitles
</span><span>    hPutStr h (unlines </span><span style="color:#f29668;">$</span><span> showKmSimple x) </span><span style="font-style:italic;color:#5c6773;">-- showKmSimple doesn&#39;t add &quot;&gt;&gt;&quot; to subtitles
</span><span>    hClose h
</span><span>    return </span><span style="color:#f29718;">()
</span></code></pre>
<h1 id="keybindings"><a class="zola-anchor" href="#keybindings" aria-label="Anchor link for: keybindings">KEYBINDINGS</a></h1>
<p>This config use the
<a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/xmonad-contrib-0.17.1/docs/XMonad-Util-EZConfig.html">Xmonad.Util.EZConfig</a>
module, that make keybindings to be written in simpler form. The
Super/Windows key is 'M' (the modkey), the ALT key is 'M1'. Shift is 'S'
and CTRL is 'C'. If you dont know what is the name of key actually is,
always refer to <a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/xmonad-contrib-0.17.1/docs/XMonad-Util-EZConfig.html#v:additionalKeysP">EZConfig
documentation</a>
(for example, the backspace key is written as &lt;Backspace&gt;, note it is
enclosed in &lt;‚Ä¶&gt; and the initial letter is capitalized). Each group of
keybindings must have a <code>subKeys</code> heading, and each individual
keybinding must use <code>addName</code> to add a description. These headings and
descriptions are needed for the keybindings list that can be launched
with 'M-F1'.</p>
<p><code>Note</code> will complete the table later, the key should be
self-explanatory. I will give you small example: "M-C-r" means you need
to press Modkey+Ctrl+r "M-x r" means you need to press Modkey+x, release
it, then press r</p>
<table><thead><tr><th>A FEW KEYBINDINGS</th><th>ASSOCIATED ACTION</th></tr></thead><tbody>
<tr><td>MODKEY + RETURN</td><td>opens terminal</td></tr>
</tbody></table>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="color:#ffb454;">myKeys </span><span style="color:#ff7733;">:: XConfig </span><span>l0 </span><span style="color:#ff7733;">-&gt;</span><span> [((</span><span style="color:#ff7733;">KeyMask</span><span>, </span><span style="color:#ff7733;">KeySym</span><span>), </span><span style="color:#ff7733;">NamedAction</span><span>)]
</span><span>myKeys c </span><span style="color:#f29668;">=
</span><span>    </span><span style="font-style:italic;color:#5c6773;">--(subtitle &quot;Custom Keys&quot;:) $ mkNamedKeymap c $
</span><span>    </span><span style="color:#ff7733;">let</span><span> subKeys str ks </span><span style="color:#f29668;">=</span><span> subtitle&#39; str </span><span style="color:#f29668;">:</span><span> mkNamedKeymap c ks </span><span style="color:#ff7733;">in
</span><span>    subKeys </span><span style="color:#c2d94c;">&quot;Xmonad Essentials&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-C-r&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Recompile XMonad&quot;      </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;xmonad --recompile&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-&lt;F5&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Restart XMonad&quot;     </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;killall emacs; killall polybar; xmonad --restart&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-q&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Quit XMonad&quot;           </span><span style="color:#f29668;">$</span><span> sequence_ [spawn (mySoundPlayer </span><span style="color:#f29668;">++</span><span> shutdownSound)</span><span style="color:#bfbab0cc;">,</span><span> io exitSuccess])
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-x&quot;</span><span style="color:#bfbab0cc;">,</span><span>   addName </span><span style="color:#c2d94c;">&quot;Quit XMonad&quot;           </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-logout&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-q&quot;</span><span style="color:#bfbab0cc;">,</span><span>   addName </span><span style="color:#c2d94c;">&quot;Kill focused window&quot;   </span><span style="color:#f29668;">$</span><span> kill1)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-q&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Kill all windows on WS&quot;</span><span style="color:#f29668;">$</span><span> killAll)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-d&quot;</span><span style="color:#bfbab0cc;">,</span><span>   addName </span><span style="color:#c2d94c;">&quot;Run prompt&quot;            </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm_run&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-b&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Toggle bar show/hide&quot;  </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29718;">ToggleStruts</span><span>)
</span><span>    ]
</span><span>
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Switch to workspace&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-1&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 1&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">0</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-2&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 2&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">1</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-3&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 3&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">2</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-4&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 4&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">3</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-5&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 5&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">4</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-6&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 6&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">5</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-7&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 7&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">6</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-8&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 8&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">7</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-9&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 9&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">8</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-0&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to workspace 10&quot;  </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>greedyView </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">9</span><span>)
</span><span>    ]
</span><span>
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Send window to workspace&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-S-1&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 1&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">0</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-2&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 2&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">1</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-3&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 3&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">2</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-4&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 4&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">3</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-5&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 5&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">4</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-6&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 6&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">5</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-7&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 7&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">6</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-8&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 8&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">7</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-9&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 9&quot;   </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">8</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-0&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Send to workspace 10&quot;  </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>shift </span><span style="color:#f29668;">$</span><span> myWorkspaces </span><span style="color:#f29668;">!! </span><span style="color:#f29718;">9</span><span>)
</span><span>    ]
</span><span>
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Move window to WS and go there&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-S-&lt;Page_Up&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Move window to next WS&quot;    </span><span style="color:#f29668;">$</span><span> shiftTo </span><span style="color:#f29718;">Next</span><span> nonNSP </span><span style="color:#f29668;">&gt;&gt;</span><span> moveTo </span><span style="color:#f29718;">Next</span><span> nonNSP)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-&lt;Page_Down&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Move window to prev WS&quot;  </span><span style="color:#f29668;">$</span><span> shiftTo </span><span style="color:#f29718;">Prev</span><span> nonNSP </span><span style="color:#f29668;">&gt;&gt;</span><span> moveTo </span><span style="color:#f29718;">Prev</span><span> nonNSP)
</span><span>    ]
</span><span>
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Window navigation&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-j&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Move focus to next window&quot;               </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>focusDown)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-k&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Move focus to prev window&quot;               </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>focusUp)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-m&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Move focus to master window&quot;             </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>focusMaster)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-j&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Swap focused window with next window&quot;  </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>swapDown)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-k&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Swap focused window with prev window&quot;  </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>swapUp)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-m&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Swap focused window with master window&quot;</span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>swapMaster)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-&lt;Backspace&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Move focused window to master&quot; </span><span style="color:#f29668;">$</span><span> promote)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-,&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Rotate all windows except master&quot;      </span><span style="color:#f29668;">$</span><span> rotSlavesDown)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-.&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Rotate all windows current stack&quot;      </span><span style="color:#f29668;">$</span><span> rotAllDown)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">{- | Dmenu scripts (dmscripts)
</span><span style="font-style:italic;color:#5c6773;">    In Xmonad and many tiling window managers, M-p is the default keybinding to
</span><span style="font-style:italic;color:#5c6773;">    launch dmenu_run, so I&#39;ve decided to use M-p plus KEY for these dmenu scripts.
</span><span style="font-style:italic;color:#5c6773;">    -}
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Dmenu scripts&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-p h&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;List all dmscripts&quot;    </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-hub&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p b&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Set background&quot;        </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-setbg&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p c&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Edit config files&quot;     </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-confedit&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p m&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;View manpages&quot;         </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-man&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p o&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Store and copy notes&quot;  </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-note&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p x&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Logout Menu&quot;           </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-logout&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p r&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Listen to online radio&quot;</span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-radio&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p s&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Record Screen&quot;         </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-record&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p w&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Search various engines&quot;</span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-websearch&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-p n&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Connect Wifi&quot;          </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;dm-wifi&quot;</span><span>)
</span><span>    ]
</span><span>
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Favorite programs&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-&lt;Return&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Launch terminal&quot;  </span><span style="color:#f29668;">$</span><span> spawn myTerminal)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-b&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Launch web browser&quot;      </span><span style="color:#f29668;">$</span><span> spawn myBrowser)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-e&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Launch file manager&quot;     </span><span style="color:#f29668;">$</span><span> spawn myFileManager)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-s&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Launch file manager&quot;     </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;flameshot gui&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-M1-h&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Launch htop&quot;          </span><span style="color:#f29668;">$</span><span> spawn (myTerminal </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot; -e htop&quot;</span><span>))
</span><span>    ]
</span><span>
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Monitors&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-.&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch focus to next monitor&quot;    </span><span style="color:#f29668;">$</span><span> nextScreen)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-,&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch focus to prev monitor&quot;    </span><span style="color:#f29668;">$</span><span> prevScreen)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Switch layouts
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Switch layouts&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-&lt;Tab&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch to next layout&quot;   </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29718;">NextLayout</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-f&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Toggle noborders/full&quot;       </span><span style="color:#f29668;">$</span><span> sendMessage (</span><span style="color:#f29718;">MT</span><span style="color:#f29668;">.</span><span style="color:#f29718;">Toggle NBFULL</span><span>) </span><span style="color:#f29668;">&gt;&gt;</span><span> sendMessage </span><span style="color:#f29718;">ToggleStruts</span><span>)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Window resizing
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Window resizing&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-h&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Shrink window&quot;               </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29718;">Shrink</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-l&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Expand window&quot;               </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29718;">Expand</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-M1-j&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Shrink window vertically&quot; </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29718;">MirrorShrink</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-M1-k&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Expand window vertically&quot; </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29718;">MirrorExpand</span><span>)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Floating windows
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Floating windows&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-S-&lt;Space&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Toggle float layout&quot; </span><span style="color:#f29668;">$</span><span> sendMessage (</span><span style="color:#f29718;">T</span><span style="color:#f29668;">.</span><span style="color:#f29718;">Toggle </span><span style="color:#c2d94c;">&quot;floats&quot;</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-t&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Sink a floating window&quot;      </span><span style="color:#f29668;">$</span><span> withFocused </span><span style="color:#f29668;">$</span><span> windows </span><span style="color:#f29668;">. </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>sink)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-t&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Sink all floated windows&quot;  </span><span style="color:#f29668;">$</span><span> sinkAll)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Increase/decrease spacing (gaps)
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Window spacing (gaps)&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-g j&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Decrease window spacing&quot; </span><span style="color:#f29668;">$</span><span> decWindowSpacing </span><span style="color:#f29718;">4</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-g k&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Increase window spacing&quot; </span><span style="color:#f29668;">$</span><span> incWindowSpacing </span><span style="color:#f29718;">4</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-g h&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Decrease screen spacing&quot; </span><span style="color:#f29668;">$</span><span> decScreenSpacing </span><span style="color:#f29718;">4</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-g l&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Increase screen spacing&quot; </span><span style="color:#f29668;">$</span><span> incScreenSpacing </span><span style="color:#f29718;">4</span><span>)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Increase/decrease windows in the master pane or the stack
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Increase/decrease windows in master pane or the stack&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-S-&lt;Up&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Increase clients in master pane&quot;   </span><span style="color:#f29668;">$</span><span> sendMessage (</span><span style="color:#f29718;">IncMasterN 1</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-S-&lt;Down&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Decrease clients in master pane&quot; </span><span style="color:#f29668;">$</span><span> sendMessage (</span><span style="color:#f29718;">IncMasterN</span><span> (</span><span style="color:#f29668;">-</span><span style="color:#f29718;">1</span><span>)))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-=&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Increase max # of windows for layout&quot;   </span><span style="color:#f29668;">$</span><span> increaseLimit)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M--&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Decrease max # of windows for layout&quot;   </span><span style="color:#f29668;">$</span><span> decreaseLimit)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">{- | Sublayouts
</span><span style="font-style:italic;color:#5c6773;">    This is used to push windows to tabbed sublayouts, or pull them out of it.
</span><span style="font-style:italic;color:#5c6773;">    -}
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Sublayouts&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-C-h&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;pullGroup L&quot;           </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29668;">$</span><span> pullGroup </span><span style="color:#f29718;">L</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-l&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;pullGroup R&quot;           </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29668;">$</span><span> pullGroup </span><span style="color:#f29718;">R</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-k&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;pullGroup U&quot;           </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29668;">$</span><span> pullGroup </span><span style="color:#f29718;">U</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-j&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;pullGroup D&quot;           </span><span style="color:#f29668;">$</span><span> sendMessage </span><span style="color:#f29668;">$</span><span> pullGroup </span><span style="color:#f29718;">D</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-m&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;MergeAll&quot;              </span><span style="color:#f29668;">$</span><span> withFocused (sendMessage </span><span style="color:#f29668;">. </span><span style="color:#f29718;">MergeAll</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-u&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;UnMerge&quot;               </span><span style="color:#f29668;">$</span><span> withFocused (sendMessage </span><span style="color:#f29668;">. </span><span style="color:#f29718;">UnMerge</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-/&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;UnMergeAll&quot;            </span><span style="color:#f29668;">$</span><span> withFocused (sendMessage </span><span style="color:#f29668;">. </span><span style="color:#f29718;">UnMergeAll</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-.&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch focus next tab&quot; </span><span style="color:#f29668;">$</span><span> onGroup </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>focusUp&#39;)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-C-,&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Switch focus prev tab&quot; </span><span style="color:#f29668;">$</span><span> onGroup </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>focusDown&#39;)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">{- | Scratchpads
</span><span style="font-style:italic;color:#5c6773;">    Toggle show/hide these programs. They run on a hidden workspace.
</span><span style="font-style:italic;color:#5c6773;">    When you toggle them to show, it brings them to current workspace.
</span><span style="font-style:italic;color:#5c6773;">    Toggle them to hide and it sends them back to hidden workspace (NSP).
</span><span style="font-style:italic;color:#5c6773;">    -}
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Scratchpads&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-` 1&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Toggle scratchpad terminal&quot;   </span><span style="color:#f29668;">$</span><span> namedScratchpadAction myScratchPads </span><span style="color:#c2d94c;">&quot;terminal&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-` 2&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Toggle scratchpad mocp&quot;       </span><span style="color:#f29668;">$</span><span> namedScratchpadAction myScratchPads </span><span style="color:#c2d94c;">&quot;mocp&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-` 3&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Toggle scratchpad calculator&quot; </span><span style="color:#f29668;">$</span><span> namedScratchpadAction myScratchPads </span><span style="color:#c2d94c;">&quot;calculator&quot;</span><span>)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Controls for mocp music player (SUPER-u followed by a key)
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Mocp music player&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-u p&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;mocp play&quot;                </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;mocp --play&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-u l&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;mocp next&quot;                </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;mocp --next&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-u h&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;mocp prev&quot;                </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;mocp --previous&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-u &lt;Space&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;mocp toggle pause&quot;  </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;mocp --toggle-pause&quot;</span><span>)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Emacs (SUPER-e followed by a key)
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Code Editor&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M-c c&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;VS Code&quot;                   </span><span style="color:#f29668;">$</span><span> spawn myEditor)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-c e&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Emacsclient&quot;               </span><span style="color:#f29668;">$</span><span> spawn myEmacs)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-c a&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Emacsclient EMMS (music)&quot;  </span><span style="color:#f29668;">$</span><span> spawn (myEmacs </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot;--eval &#39;(emms)&#39; --eval &#39;(emms-play-directory-tree </span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;">~/Music/</span><span style="color:#95e6cb;">\&quot;</span><span style="color:#c2d94c;">)&#39;&quot;</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-c b&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Emacsclient Ibuffer&quot;       </span><span style="color:#f29668;">$</span><span> spawn (myEmacs </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot;--eval &#39;(ibuffer)&#39;&quot;</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-c d&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Emacsclient Dired&quot;         </span><span style="color:#f29668;">$</span><span> spawn (myEmacs </span><span style="color:#f29668;">++ </span><span style="color:#c2d94c;">&quot;--eval &#39;(dired nil)&#39;&quot;</span><span>))
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;M-c m&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Mousepad&quot;                  </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;mousepad&quot;</span><span>)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Multimedia Keys
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Multimedia keys&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;&lt;XF86AudioMute&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Toggle audio mute&quot;   </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;volumecontrol.sh -o m&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;&lt;XF86AudioLowerVolume&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Lower volume&quot; </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;volumecontrol.sh -o d&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;&lt;XF86AudioRaiseVolume&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Raise volume&quot; </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;volumecontrol.sh -o i&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;&lt;XF86MonBrightnessDown&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Raise vol&quot;   </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;brightnesscontrol.sh d&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;&lt;XF86MonBrightnessUp&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Raise vol&quot;     </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;brightnesscontrol.sh i&quot;</span><span>)
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> (</span><span style="color:#c2d94c;">&quot;&lt;Print&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Take screenshot&quot;             </span><span style="color:#f29668;">$</span><span> spawn </span><span style="color:#c2d94c;">&quot;flameshotgui&quot;</span><span>)
</span><span>    ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Workspace
</span><span>    ^</span><span style="color:#f29668;">++</span><span>^ subKeys </span><span style="color:#c2d94c;">&quot;Workspace&quot;
</span><span>    [ (</span><span style="color:#c2d94c;">&quot;M1-&lt;Tab&gt;&quot;</span><span style="color:#bfbab0cc;">,</span><span> addName </span><span style="color:#c2d94c;">&quot;Cycle with last WS&quot; </span><span style="color:#f29668;">$</span><span> toggleWS) ]
</span><span>
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- The following lines are needed for named scratchpads.
</span><span>  </span><span style="color:#ff7733;">where
</span><span>    nonNSP          </span><span style="color:#f29668;">= </span><span style="color:#f29718;">WSIs</span><span> (return (</span><span style="color:#f29668;">\</span><span>ws </span><span style="color:#f29668;">-&gt; </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>tag ws </span><span style="color:#f29668;">/= </span><span style="color:#c2d94c;">&quot;NSP&quot;</span><span>))
</span><span>    nonEmptyNonNSP  </span><span style="color:#f29668;">= </span><span style="color:#f29718;">WSIs</span><span> (return (</span><span style="color:#f29668;">\</span><span>ws </span><span style="color:#f29668;">-&gt;</span><span> isJust (</span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>stack ws) &amp;&amp; </span><span style="color:#f29718;">W</span><span style="color:#f29668;">.</span><span>tag ws </span><span style="color:#f29668;">/= </span><span style="color:#c2d94c;">&quot;NSP&quot;</span><span>))
</span></code></pre>
<h1 id="make-xmonad-and-polybar-talk-to-each-other"><a class="zola-anchor" href="#make-xmonad-and-polybar-talk-to-each-other" aria-label="Anchor link for: make-xmonad-and-polybar-talk-to-each-other">MAKE XMONAD AND POLYBAR TALK TO EACH OTHER</a></h1>
<p>As i have explained before, we need to integrate xmonad to visualize the
current window title and workspaces in polybar. To make xmonad and
polybar talk we only need to add [module/xmonad] in our polybar config
and polybar ready to talk. Now, for xmonad to talk, we need to configure
it to send log events information via
<a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/dbus">dbus</a> using XMonad's
DynamicLog with the help of xmonad-log. The <a rel="noopener" target="_blank" href="https://hackage.haskell.org/package/xmonad-contrib-0.17.1/docs/XMonad-Hooks-DynamicLog.html#t:PP">pretty printing
(PP)</a>
options, allows us to customize the formatting of status information.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span>bg1 </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;#3c3836&quot;
</span><span>bg2 </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;#504945&quot;
</span><span>red </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;#fb4934&quot;
</span><span>
</span><span style="color:#ffb454;">myLogHook </span><span style="color:#ff7733;">:: D</span><span>.</span><span style="color:#ff7733;">Client -&gt; PP
</span><span>myLogHook dbus </span><span style="color:#f29668;">=</span><span> def
</span><span>    { ppOutput </span><span style="color:#f29668;">=</span><span> dbusOutput dbus
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> ppWsSep </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot;&quot;
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> ppSep </span><span style="color:#f29668;">= </span><span style="color:#c2d94c;">&quot; | &quot;
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> ppLayout </span><span style="color:#f29668;">=</span><span> wrap </span><span style="color:#c2d94c;">&quot;%{A1:xdotool key super+Tab &amp;:}&quot; &quot;%{A}&quot;
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> ppTitle </span><span style="color:#f29668;">=</span><span> shorten </span><span style="color:#f29718;">50
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> ppExtras </span><span style="color:#f29668;">=</span><span> [windowCount]
</span><span>    </span><span style="color:#bfbab0cc;">,</span><span> ppOrder </span><span style="color:#f29668;">= \</span><span>(_</span><span style="color:#f29668;">:</span><span>l</span><span style="color:#f29668;">:</span><span>t</span><span style="color:#f29668;">:</span><span>ex) </span><span style="color:#f29668;">-&gt;</span><span> [l]</span><span style="color:#f29668;">++</span><span>ex</span><span style="color:#f29668;">++</span><span>[t]
</span><span>    }
</span><span>
</span><span style="font-style:italic;color:#5c6773;">-- Emit a DBus signal on log updates
</span><span style="color:#ffb454;">dbusOutput </span><span style="color:#ff7733;">:: D</span><span>.</span><span style="color:#ff7733;">Client -&gt; String -&gt; IO </span><span style="font-style:italic;color:#f29668;">()
</span><span>dbusOutput dbus str </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">do
</span><span>    </span><span style="color:#ff7733;">let</span><span> signal </span><span style="color:#f29668;">=</span><span> (</span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>signal objectPath interfaceName memberName) {
</span><span>        </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>signalBody </span><span style="color:#f29668;">=</span><span> [</span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>toVariant </span><span style="color:#f29668;">$ </span><span style="color:#f29718;">UTF8</span><span style="color:#f29668;">.</span><span>decodeString str]
</span><span>    }
</span><span>    </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>emit dbus signal
</span><span>  </span><span style="color:#ff7733;">where
</span><span>    objectPath </span><span style="color:#f29668;">= </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>objectPath_ </span><span style="color:#c2d94c;">&quot;/org/xmonad/Log&quot;
</span><span>    interfaceName </span><span style="color:#f29668;">= </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>interfaceName_ </span><span style="color:#c2d94c;">&quot;org.xmonad.Log&quot;
</span><span>    memberName </span><span style="color:#f29668;">= </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>memberName_ </span><span style="color:#c2d94c;">&quot;Update&quot;
</span></code></pre>
<h1 id="the-main"><a class="zola-anchor" href="#the-main" aria-label="Anchor link for: the-main">THE MAIN</a></h1>
<p>This is the "main" of XMonad. This where everything in our configs comes
together and works.</p>
<pre data-lang="haskell" style="background-color:#0f1419;color:#bfbab0;" class="language-haskell "><code class="language-haskell" data-lang="haskell"><span style="color:#ffb454;">main </span><span style="color:#ff7733;">:: IO </span><span style="font-style:italic;color:#f29668;">()
</span><span>main </span><span style="color:#f29668;">= </span><span style="color:#ff7733;">do
</span><span>    dbus </span><span style="color:#f29668;">&lt;- </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>connectSession
</span><span>    </span><span style="font-style:italic;color:#5c6773;">-- Request access to the DBus name
</span><span>    </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>requestName dbus (</span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>busName_ </span><span style="color:#c2d94c;">&quot;org.xmonad.Log&quot;</span><span>)
</span><span>        [</span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>nameAllowReplacement</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>nameReplaceExisting</span><span style="color:#bfbab0cc;">, </span><span style="color:#f29718;">D</span><span style="color:#f29668;">.</span><span>nameDoNotQueue]
</span><span>    xmonad
</span><span>        </span><span style="color:#f29668;">$</span><span> addDescrKeys&#39; ((mod4Mask</span><span style="color:#bfbab0cc;">,</span><span> xK_F1)</span><span style="color:#bfbab0cc;">,</span><span> showKeybindings) myKeys
</span><span>        </span><span style="color:#f29668;">$</span><span> docks </span><span style="color:#f29668;">.</span><span> ewmh
</span><span>        </span><span style="color:#f29668;">$</span><span> def
</span><span>            { manageHook         </span><span style="color:#f29668;">=</span><span> myManageHook </span><span style="color:#f29668;">&lt;+&gt;</span><span> manageDocks
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> handleEventHook    </span><span style="color:#f29668;">=</span><span> windowedFullscreenFixEventHook </span><span style="color:#f29668;">&lt;&gt;</span><span> swallowEventHook (className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;Alacritty&quot;  </span><span style="color:#f29668;">&lt;||&gt;</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;st-256color&quot; </span><span style="color:#f29668;">&lt;||&gt;</span><span> className </span><span style="color:#f29668;">=? </span><span style="color:#c2d94c;">&quot;XTerm&quot;</span><span>) (return </span><span style="color:#f29718;">True</span><span>) </span><span style="color:#f29668;">&lt;&gt;</span><span> trayerPaddingXmobarEventHook
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> modMask            </span><span style="color:#f29668;">=</span><span> myModMask
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> terminal           </span><span style="color:#f29668;">=</span><span> myTerminal
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> startupHook        </span><span style="color:#f29668;">=</span><span> myStartupHook
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> layoutHook         </span><span style="color:#f29668;">=</span><span> myLayoutHook
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> workspaces         </span><span style="color:#f29668;">=</span><span> myWorkspaces
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> borderWidth        </span><span style="color:#f29668;">=</span><span> myBorderWidth
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> normalBorderColor  </span><span style="color:#f29668;">=</span><span> myNormColor
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> focusedBorderColor </span><span style="color:#f29668;">=</span><span> myFocusColor
</span><span>            </span><span style="color:#bfbab0cc;">,</span><span> logHook            </span><span style="color:#f29668;">=</span><span> dynamicLogWithPP (myLogHook dbus)
</span><span>            }
</span></code></pre>

            </section>
        </article>
    </main>
</div>



            
                
            

            
                <div class="giscus"></div>
                <script src="https://utteranc.es/client.js" repo="YOUR_NAME/YOUR_REPO" issue-term="pathname" theme="github-light" crossorigin="anonymous" async>
</script>

            
        </div>

        <div class="right-content">
            
    
    
        <div class="toc">
    <div class="heading">Table of Contents</div>
    <ul class="toc-list">
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#about">ABOUT</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#documentation">Documentation</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#installing-xmonad">Installing xmonad</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#imports">IMPORTS</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#variables">VARIABLES</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#autostarts">AUTOSTARTS</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#layouts">LAYOUTS</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#workspaces">WORKSPACES</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#managehook">MANAGEHOOK</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#system-sounds">SYSTEM SOUNDS</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#named-actions">NAMED ACTIONS</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#keybindings">KEYBINDINGS</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#make-xmonad-and-polybar-talk-to-each-other">MAKE XMONAD AND POLYBAR TALK TO EACH OTHER</a>

                
            </li>
        
            <li class="parent">
                
                <a href="https://firman-qs.github.io/posts/hacking-on-xmonad/#the-main">THE MAIN</a>

                
            </li>
        
    </ul>
</div>

    

        </div>
    </body>

</html>
